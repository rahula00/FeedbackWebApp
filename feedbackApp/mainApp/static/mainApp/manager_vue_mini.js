let app={},init=e=>{e.check_delete=(()=>{for(feedback of(e.vue.showDelete=!1,e.vue.feedbacks))!0===feedback.in_range&&!0===feedback.delete&&(e.vue.showDelete=!0)}),e.set_range=(()=>{var a=document.getElementById("sel1"),t=a.options[a.selectedIndex].value;e.vue.dateRange=t,e.check_range()}),e.check_range=(()=>{if("0"!==e.vue.dateRange){var a=new Date;a.setDate(a.getDate()-e.vue.dateRange),a.setHours(0,0,0,0);var t=a;for(feedback of e.vue.feedbacks){new Date(feedback.created_at)>=t?feedback.in_range=!0:(feedback.in_range=!1,feedback.delete=!1)}}else for(feedback of e.vue.feedbacks)feedback.in_range=!0;e.vue.showDelete=!1,e.check_delete()}),e.get_feedbacks=(()=>{$.ajax({url:"/ajax/get_feedbacks/",dataType:"json",data:{test:"last x days"},success:function(a){e.vue.feedbacks=e.setShow(a),e.check_range()},error:function(e){}})}),e.delete_feedback=(a=>{$.ajax({url:"/ajax/delete_feedback/",dataType:"json",data:{id:a.id},success:function(e){},error:function(e){},complete:function(a){e.init()}})}),e.delete_feedbacks=(()=>{if(confirm("Are you sure you want to delete this?"))for(feedback of e.vue.feedbacks)!0===feedback.delete&&e.delete_feedback(feedback);else for(feedback of e.vue.feedbacks)feedback.delete=!1;e.vue.showDelete=!1}),e.mark_read=(e=>{$.ajax({url:"/ajax/mark_read/",dataType:"json",data:{id:e.id},success:function(e){},error:function(e){}})}),e.setDate=(e=>{var a=new Date(e),t=(a.getDay(),a.getHours()),d=a.getMinutes();d<10&&(d="0"+d);var c="a.m.";t>12&&(t-=12,c="p.m.");var r=a.getDate();return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][a.getMonth()]+" "+r+" "+a.getFullYear()+", "+t+":"+d+c}),e.setShow=(a=>{for(feedback of(MM=["January","February","March","April","May","June","July","August","September","October","November","December"],a))feedback.show=!1,feedback.delete=!1,feedback.show_date=e.setDate(feedback.created_at),feedback.in_range=!1,"N/A"===feedback.salesforceOp&&(feedback.salesforceOp=!1);return a}),e.data={feedbacks:[],showDelete:!1,dateRange:7},e.methods={get_feedbacks:e.get_feedbacks,set_range:e.set_range,mark_read:e.mark_read,delete_feedbacks:e.delete_feedbacks,check_delete:e.check_delete},e.vue=new Vue({el:"#vue-target",data:e.data,methods:e.methods,delimiters:["[[","]]"]}),e.init=(()=>{e.get_feedbacks()}),e.init()};init(app);